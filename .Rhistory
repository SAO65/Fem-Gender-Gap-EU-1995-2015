col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
predict(lm.1995.male)
predict(lm.1995.female)
pred.male <- predict(lm.1995.male)
pred.female <- predict(lm.1995.female)
plot(pred.male)
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
points(predict(lm.1995.male))
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"))
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
pred.male <- predict(lm.1995.male)
pred.female <- predict(lm.1995.female)
points(pred.male)
points(pred.female)
pred.male
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
pred.YLD.male <- predict(lm.1995.male)
pred.YLD.female <- predict(lm.1995.female)
points(data.HALE.1995.male$val,
pred.male)
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
pred.YLD.male <- predict(lm.1995.male)
pred.YLD.female <- predict(lm.1995.female)
points(data.HALE.2015.male$val,
pred.male)
lm.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
confint(lm.1995.male)
abline(lm.1995.female, col="red", lty=2)
summary(lm.1995.female)
confint(lm.1995.female)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
pred.YLD.male <- predict(lm.1995.male)
pred.YLD.female <- predict(lm.1995.female)
points(data.HALE.2015.male$val,
pred.male, col="blue")
points(data.HALE.2015.female$val,
pred.female, col="red")
pred.YLD.male <- predict(lm.1995.male)
pred.YLD.female <- predict(lm.1995.female)
points(data.HALE.2015.male$val,
pred.male, col="blue", pch=2)
pred.YLD.male <- predict(lm.1995.male)
library(car)
install.packages("car")
# Raw Data
HALE.raw.data <- read.csv("./IHME-GBD_2015_DATA-7c514cb9-1/IHME-GBD_2015_DATA-7c514cb9-1.csv")
LE.raw.data <- read.csv("./IHME-GBD_2015_DATA-b8689aa2-1/IHME-GBD_2015_DATA-b8689aa2-1.csv")
head(LE.raw.data)
head(HALE.raw.data)
# Tidy Data
library(data.table)
library(ggplot2)
library(car)
attach(LE.raw.data)
attach(HALE.raw.data)
DT.LE <- data.table(LE.raw.data)
DT.HALE <- data.table(HALE.raw.data)
tables()
# Tidy Data
data.LE.1995.male <- DT.LE[DT.LE$year == "1995" & DT.LE$sex == "Male", ]
data.LE.2015.male <- DT.LE[DT.LE$year == "2015" & DT.LE$sex == "Male", ]
data.LE.1995.female <- DT.LE[DT.LE$year == "1995" & DT.LE$sex == "Female", ]
data.LE.2015.female <- DT.LE[DT.LE$year == "2015" & DT.LE$sex == "Female", ]
# Training Data: Predictor
data.HALE.1995.male <- DT.HALE[DT.HALE$year == "1995" & DT.HALE$sex == "Male", ]
data.HALE.1995.female <- DT.HALE[DT.HALE$year == "1995" & DT.HALE$sex == "Female", ]
# Training Data: Response
data.YLD.1995.male <- data.LE.1995.male$val - data.HALE.1995.male$val
data.YLD.1995.female <- data.LE.1995.female$val - data.HALE.1995.female$val
# Test Data
data.HALE.2015.male <- DT.HALE[DT.HALE$year == "2015" & DT.HALE$sex == "Male", ]
data.HALE.2015.female <- DT.HALE[DT.HALE$year == "2015" & DT.HALE$sex == "Female", ]
data.YLD.2015.male <- data.LE.2015.male$val - data.HALE.2015.male$val
data.YLD.2015.female <- data.LE.2015.female$val - data.HALE.2015.female$val
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
abline(lm.1995.male, col="blue", lty=2)
summary(lm.1995.male)
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.1995.male)
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.1995.male)
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
abline(lm.1995.male, col="blue", lty=2)
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
abline(lm.1995.female, col="red", lty=2)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
abline(lm.1995.male, col="blue", lty=2)
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
abline(lm.1995.female, col="red", lty=2)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
abline(lm.fit.1995.male, col="blue", lty=2)
points(data.HALE.1995.female$val,
data.YLD.1995.female,
col="red",
cex=1,
pch=1)
abline(lm.fit.1995.female, col="red", lty=2)
axis(1, col.axis="black", las=1, cex.axis=0.7, tck=-.01)
axis(2, col.axis="black", las=2, cex.axis=0.7, tck=-.01)
legend(52, 11.5,
c("Year 1995 Males", "Year 1995 Females"),
pch=c(1,1),
lty=c(2, 2),
cex=c(.9,.9),
col=c("blue", "red"),
bty = "n")
pred.YLD.male <- predict(lm.1995.male, data.frame(data.HALE.2015.male$val), interval="confidence")
pred.YLD.male <- predict(lm.fit.1995.male, data.frame(data.HALE.2015.male$val), interval="confidence")
(pred.YLD.male <- predict(lm.fit.1995.male,
data.frame(data.HALE.2015.male$val),
interval="confidence"))
(pred.YLD.female <- predict(lm.fit.1995.female,
data.frame(data.HALE.2015.female$val),
interval="prediction"))
plot(lm.fit.1995.male)
# Accuracy
plot(predict(lm.fit.1995.male), residuals(lm.fit.1995.male))
plot(hatvalues(lm.fit.1995.male))
# Accuracy
plot(predict(lm.fit.1995.male), rstudent(lm.fit.1995.male))
# Accuracy
(accuracy.fit.male.2015 <- plot(predict(lm.fit.1995.male), residuals(lm.fit.1995.male)))
abline(h=0, col="red")
# Accuracy
plot(predict(lm.fit.1995.male), residuals(lm.fit.1995.male), col="blue")
points(predict(lm.fit.1995.female), residuals(lm.fit.1995.female), col="red")
plot(predict(lm.fit.1995.female), residuals(lm.fit.1995.female), col="red")
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
(pred.YLD.male <- predict(lm.fit.1995.male,
data.frame(data.HALE.2015.male$val),
interval="confidence"))
(pred.YLD.female <- predict(lm.fit.1995.female,
data.frame(data.HALE.2015.female$val),
interval="prediction"))
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
(pred.YLD.male <- predict(lm.fit.1995.male,
data.frame(data.HALE.2015.male$val),
interval="confidence"))
(pred.YLD.female <- predict(lm.fit.1995.female,
data.frame(data.HALE.2015.female$val),
interval="prediction"))
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
abline(lm.fit.1995.male, col="blue", lty=2)
points(data.HALE.1995.male$val, pred.YLD.male$fit)
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
(pred.YLD.male <- predict(lm.fit.1995.male,
data.frame(data.HALE.2015.male$val),
interval="confidence"))
(pred.YLD.female <- predict(lm.fit.1995.female,
data.frame(data.HALE.2015.female$val),
interval="prediction"))
plot(data.HALE.1995.male$val,
data.YLD.1995.male,
col="blue",
cex=1,
pch=1,
xlim = c(50,75),
ylim=c(6, 12),
axes=F,
main = "Training datasets",
xlab="Health-Adjusted Life expectancy (HALE)",
ylab="Years Lived with Disability (YLD)")
abline(lm.fit.1995.male, col="blue", lty=2)
points(data.HALE.2015.male$val, pred.YLD.male$fit)
pred.YLD.male$fit
lm.fit.1995.male <- lm(data.YLD.1995.male ~ data.HALE.1995.male$val)
summary(lm.fit.1995.male)
confint(lm.fit.1995.male)
lm.fit.1995.female <- lm(data.YLD.1995.female ~ data.HALE.1995.female$val)
summary(lm.fit.1995.female)
confint(lm.fit.1995.female)
(pred.YLD.male <- predict(lm.fit.1995.male,
data.frame(data.HALE.2015.male$val),
interval="prediction"))
